<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IRT GLOBAL - FUTURE TECH 2026</title>
    <style>
        :root { 
            --accent: #38bdf8; 
            --gold: #fbbf24; 
            --bg-dark: #020617; 
        }
        
        body {
            margin: 0; padding: 0; font-family: 'Segoe UI', Roboto, sans-serif;
            background: #020617;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(56, 189, 248, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(251, 191, 36, 0.1) 0%, transparent 40%);
            color: white; overflow-x: hidden; min-height: 100vh;
        }

        body::before {
            content: ""; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://www.transparenttextures.com/patterns/stardust.png');
            opacity: 0.3; pointer-events: none; animation: twinkle 15s linear infinite;
        }

        @keyframes twinkle {
            from { background-position: 0 0; }
            to { background-position: 1000px 1000px; }
        }

        #auth-section { height: 100vh; display: flex; justify-content: center; align-items: center; padding: 20px; }
        
        .auth-card {
            background: rgba(15, 23, 42, 0.8); padding: 50px 40px; border-radius: 40px;
            border: 2px solid var(--gold); width: 100%; max-width: 420px; text-align: center;
            backdrop-filter: blur(25px); box-shadow: 0 0 80px rgba(251, 191, 36, 0.2);
            animation: float 4s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .login-logo { 
            width: 110px; height: 110px; border-radius: 50%; 
            border: 3px solid var(--gold); margin-bottom: 25px;
            box-shadow: 0 0 20px var(--gold);
        }

        input {
            width: 100%; padding: 16px; margin: 15px 0; border-radius: 15px; 
            border: 1px solid var(--accent); background: rgba(2, 6, 23, 0.9); 
            color: white; font-size: 16px; outline: none; box-sizing: border-box;
        }

        #bot-section { display: none; width: 100%; max-width: 480px; margin: 0 auto; padding: 20px; }
        .panel { 
            background: rgba(30, 41, 59, 0.9); padding: 20px; border-radius: 25px; 
            border: 1px solid var(--accent); backdrop-filter: blur(15px); 
        }

        .asset-grid {
            max-height: 250px; overflow-y: auto; display: grid; grid-template-columns: repeat(2, 1fr);
            gap: 8px; background: rgba(2, 6, 23, 0.7); padding: 12px; border-radius: 15px;
        }

        .asset-item {
            padding: 10px; border-radius: 10px; background: #1e293b; border: 1px solid #334155;
            font-size: 11px; text-align: center; cursor: pointer; transition: 0.2s; color: #cbd5e1;
        }
        .asset-item.active { background: var(--gold); color: #000; font-weight: bold; border-color: #fff; }

        .btn-main {
            width: 100%; padding: 16px; background: linear-gradient(135deg, #fbbf24, #f59e0b);
            border: none; border-radius: 15px; font-weight: bold; cursor: pointer; 
            margin-top: 15px; color: #000; font-size: 16px; text-transform: uppercase;
        }

        #results { 
            margin-top: 15px; background: #0f172a; border-radius: 20px; 
            display: none; border: 2px solid var(--gold); overflow: hidden; 
        }
        .sig-header { background: var(--gold); color: black; padding: 8px; text-align: center; font-weight: bold; font-size: 13px;}
        .sig-body { padding: 15px; font-family: 'Courier New', monospace; color: #4ade80; white-space: pre-wrap; font-size: 13px; line-height: 1.6;}

        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-thumb { background: var(--gold); border-radius: 10px; }
    </style>
</head>
<body>

<div id="toast" style="position:fixed; top:20px; left:50%; transform:translateX(-50%); background:var(--gold); color:black; padding:10px 20px; border-radius:30px; display:none; z-index:9999; font-weight:bold;">COPIED! âœ…</div>

<div id="auth-section">
    <div class="auth-card">
        <img src="file_00000000bea072308204c5eaa5f02903.png" class="login-logo">
        <h1 style="color:var(--gold); font-size: 26px; margin: 0; letter-spacing: 2px;">IRT TRADING VIP</h1>
        <p style="color:var(--accent); font-size: 12px; margin-bottom: 30px;">REAL DATA MIXED MODE 2026</p>
        
        <input type="text" id="user-id" placeholder="Enter Account ID">
        <input type="password" id="license-key" placeholder="Enter License Key">
        
        <button class="btn-main" onclick="validateLogin()">ACTIVATE SYSTEM</button>
        <p id="auth-err" style="color:#f87171; display:none; margin-top:15px; font-weight:bold;">Invalid ID or License Key!</p>
    </div>
</div>

<div id="bot-section">
    <div class="panel">
        <div style="display:flex; justify-content:space-between; color:var(--gold); font-weight:bold; font-size:11px; margin-bottom:15px; border-bottom:1px solid #334155; padding-bottom:8px;">
            <div id="live-time">TIME: 00:00:00</div>
            <div>STATUS: READY</div>
        </div>

        <div style="display:flex; gap:10px; margin-bottom:15px;">
            <div style="flex:1"><label style="font-size:10px;">START</label><input type="time" id="start-t" value="00:00" style="width:100%; background:#020617; border:1px solid var(--accent); color:white; padding:8px; border-radius:8px;"></div>
            <div style="flex:1"><label style="font-size:10px;">END</label><input type="time" id="end-t" value="23:59" style="width:100%; background:#020617; border:1px solid var(--accent); color:white; padding:8px; border-radius:8px;"></div>
        </div>

        <label style="font-size:10px; color:var(--accent); font-weight:bold; display:block; margin-bottom:8px;">SELECT ASSETS (OTC & LIVE)</label>
        <div class="asset-grid" id="asset-list"></div>

        <button class="btn-main" onclick="startAnalysis()">GENERATE MIXED SIGNALS</button>
    </div>

    <div id="log-container" style="display:none; margin-top:15px; background:#020617; padding:10px; border-radius:10px; font-size:11px; border:1px solid #334155;"></div>

    <div id="results">
        <div class="sig-header">IRT GLOBAL TIME-SORTED SIGNALS</div>
        <div class="sig-body" id="signal-output"></div>
        <button onclick="copySignals()" style="width:100%; background:#1e293b; color:var(--gold); border:none; padding:15px; cursor:pointer; font-weight:bold; font-size:14px;">ðŸ“‹ COPY ALL SIGNALS</button>
    </div>
</div>

<script>
    const assets = [
        "USDBDT-OTC", "BRLUSD-OTC", "USDMXN-OTC", "USDARS-OTC", "USDCOP-OTC", "USDNGN-OTC", "USDDZD-OTC", "USDPHP-OTC", "USDZAR-OTC", "USDEGP-OTC",
        "USDINR-OTC", "USDIDR-OTC", "WIFUSD-OTC", "PEPEUSD-OTC", "BNBUSD-OTC", "BTCUSD-OTC", "ETHUSD-OTC", "LTCUSD-OTC", "SOLUSD-OTC", "EURUSD-OTC",
        "GBPUSD-OTC", "USDJPY-OTC", "AUDUSD-OTC", "USDCAD-OTC", "NZDUSD-OTC", "EURJPY-OTC", "GBPJPY-OTC", "EURGBP-OTC", "AUDCAD-OTC", "GBPAUD-OTC",
        "CHFJPY-OTC", "TRUUSD-OTC", "AUDJPY-OTC", "CADJPY-OTC", "EURAUD-OTC", "EURCAD-OTC", "GBPCAD-OTC", "XAUUSD-OTC", "APPLE-OTC", "GOOGLE-OTC",
        "FB-OTC", "MSFT-OTC", "INTC-OTC", "BA-OTC", "NZDJPY-OTC", "EURNZD-OTC",
        "EURUSD", "GBPUSD", "USDJPY", "AUDUSD", "USDCAD", "USDCHF", "NZDUSD",
        "EURGBP", "EURJPY", "GBPJPY", "AUDJPY", "EURCHF", "GBPCHF", "CADJPY",
        "AUDCAD", "EURAUD", "EURCAD", "GBPAUD", "GBPCAD", "NZDJPY", "CHFJPY",
        "BTCUSD", "ETHUSD", "LTCUSD", "SOLUSD", "XAUUSD", "XAGUSD"
    ];
    
    let selectedAssets = [];
    const grid = document.getElementById('asset-list');

    assets.forEach(a => {
        let div = document.createElement('div');
        div.className = 'asset-item';
        div.innerText = a;
        div.onclick = () => {
            div.classList.toggle('active');
            if(selectedAssets.includes(a)) selectedAssets = selectedAssets.filter(i => i !== a);
            else selectedAssets.push(a);
        };
        grid.appendChild(div);
    });

    setInterval(() => {
        const now = new Date();
        document.getElementById('live-time').innerText = "TIME: " + now.toLocaleTimeString('en-GB', {timeZone: 'Asia/Dhaka'});
    }, 1000);

    function validateLogin() {
        const id = document.getElementById('user-id').value;
        const key = document.getElementById('license-key').value;
        if(id === "IRTTRADER" && key === "IRTOWNER26") {
            document.getElementById('auth-section').style.display = 'none';
            document.getElementById('bot-section').style.display = 'block';
        } else {
            document.getElementById('auth-err').style.display = 'block';
        }
    }

    async function startAnalysis() {
        if(selectedAssets.length === 0) return alert("Please select assets!");
        const log = document.getElementById('log-container');
        const res = document.getElementById('results');
        const output = document.getElementById('signal-output');
        
        log.style.display = 'block'; res.style.display = 'none'; log.innerHTML = "";
        log.innerHTML = `<div style="color:var(--gold);">ðŸš€ Scanning assets and sorting by time...</div>`;

        let tempSignals = []; // Store all signals here first
        const start = document.getElementById('start-t').value;
        const end = document.getElementById('end-t').value;

        // Fetching data for all selected assets
        const fetchPromises = selectedAssets.map(async (pair) => {
            let url = pair.includes("-OTC") 
                ? `https://quotexotc-futureapi.poghen-dx.workers.dev/pairs=${pair.replace("-OTC", "_otc")}?start_time=${start}&end_time=${end}`
                : `https://realmarket-futuresignalapi.poghen-dx.workers.dev/pairs=${pair}?start_time=${start}&end_time=${end}&min_percentage=95&separate=1&days=3`;
            
            try {
                const response = await fetch(url);
                const data = await response.json();
                if(data.signals) {
                    data.signals.forEach(s => {
                        tempSignals.push({
                            asset: pair,
                            time: s.time,
                            direction: s.direction.toUpperCase()
                        });
                    });
                }
            } catch (e) { console.error(e); }
        });

        await Promise.all(fetchPromises);

        // --- SORTING BY TIME (00:00 to 23:59) ---
        tempSignals.sort((a, b) => a.time.localeCompare(b.time));

        // --- FORMATTING OUTPUT ---
        let finalStr = "";
        tempSignals.forEach(s => {
            finalStr += `M1;${s.asset};${s.time};${s.direction}\n`;
        });

        output.innerText = finalStr || "âŒ NO SIGNALS FOUND.";
        res.style.display = 'block';
        log.style.display = 'none';
    }

    function copySignals() {
        navigator.clipboard.writeText(document.getElementById('signal-output').innerText);
        const toast = document.getElementById('toast');
        toast.style.display = 'block';
        setTimeout(() => toast.style.display = 'none', 2000);
    }
</script>

</body>
</html>